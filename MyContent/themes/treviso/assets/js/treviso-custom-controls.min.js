"use strict";!function(s){wp.customize.bind("ready",function(){var t,e,n,l;function o(t,e){var n=s(t.element);return s(e).attr("data-font",n.val()).css({"font-family":t.text}),t.text}function c(t){var e=t[0].scrollHeight,e=t.scrollTop()/e,t=t.children("li"),e=Math.round(e*t.size());!function(t,e,n){if(void 0!==t)for(var o=e;o<e+n;o++){var c,i=t.eq(o);void 0!==i&&(c=i.text(),-1===s.inArray(c,l)&&(s("<link>",{href:"https://fonts.googleapis.com/css?family="+i.data("font"),rel:"stylesheet",type:"text/css"}).appendTo("head"),l.push(c)))}}(t,e,6)}(t=s(".customize-control-multi_select select[multiple]")).select2({placeholder:"",allowClear:!0,sorter:function(t){return t.sort(function(t,e){return t.text>e.text?1:t.text<e.text?-1:0})},width:"100%"}),t.on("select2:select",function(t){t=t.params.data.element,t=s(t);t.detach(),s(this).append(t).trigger("change")}),t.on("select2:unselect",function(t){var e=t.params.data.element,n=t.params.data.id,t=t.params.data.text;s(e).detach(),s(this).trigger("change").append(new Option(t,n,!1,!1)).trigger("change")}),s('.customize-control-multi_checkbox input[type="checkbox"]').on("change",function(){var t=s(this).parents(".customize-control").find('input[type="checkbox"]:checked').map(function(){return this.value}).get().join(",");s(this).parents(".customize-control").find('input[type="hidden"]').val(t).trigger("change")}),t=s(".customize-control-google_fonts select.font-select"),e=t.attr("id")+"-dropdown",n=null,l=[],t.select2({dropdownCssClass:e,templateResult:o,templateSelection:o,width:"100%",allowClear:!0,placeholder:""}),t.on("select2:open",function(){s("."+e).find(".select2-search__field").on("keydown",function(){clearTimeout(n),n=setTimeout(function(){c(t)},250)});var t=s("."+e).find(".select2-results__options");t.on("scroll",function(){clearTimeout(n),n=setTimeout(function(){c(t)},250)}),t.trigger("scroll")}),t.on("select2:close",function(){s("."+e).find(".select2-search__field").off("keydown"),s("."+e).find(".select2-results__options").off("scroll")}),t.on("select2:clear",function(){var t=s(this).data("customize-setting-link");wp.customize.value(t).set("")})})}(jQuery);